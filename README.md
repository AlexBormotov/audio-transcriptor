# Онлайн-транскрибатор речи с микрофона

Данное приложение позволяет распознавать речь с микрофона в реальном времени с помощью модели Whisper (faster-whisper) и сохранять результат в текстовый файл по мере появления новых данных.

## Возможности

- Онлайн-распознавание речи с микрофона
- Мгновенная запись распознанных фраз в файл (каждое новое предложение — с новой строки)
- Использование GPU (CUDA) для ускорения работы (оптимально для видеокарт NVIDIA)
- Поддержка русского, английского и других языков (мультиязычная модель)

## Требования

- Python 3.10 или 3.11 (рекомендуется)
- Видеокарта NVIDIA с поддержкой CUDA (например, RTX 4070)
- Установленные зависимости из requirements.txt

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта
2. Создайте виртуальное окружение с Python 3.11:

```powershell
# Windows
& C:\Users\YOUR_USER\AppData\Local\Programs\Python\Python311\python.exe -m venv venv
.\venv\Scripts\activate
```

3. Установите зависимости:

```powershell
pip install -r requirements.txt
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
```

## Запуск

Для запуска онлайн-распознавания речи с микрофона используйте:

```powershell
python speech_recognition_online.py
```
или
```powershell
.\run_speech_recognition.ps1
```

## Как работает программа

1. При запуске автоматически определяется микрофон по умолчанию.
2. Создаётся файл в папке `transcriptions/` с уникальным именем (дата и время).
3. Всё, что вы говорите в микрофон, распознаётся и **сразу записывается в этот файл** — каждое новое предложение с новой строки.
4. В любой момент вы можете открыть файл и увидеть, как он пополняется в реальном времени.
5. После завершения работы (Ctrl+C) в файл добавляется отметка о завершении транскрибации.

## Пример файла транскрипции

```
=== Начало транскрибации ===

Здравствуйте! Это пример работы онлайн-транскрибатора.
Каждое новое предложение появляется с новой строки.

=== Конец транскрибации ===
```

## Примечания

- Для максимальной скорости используйте видеокарту NVIDIA с поддержкой CUDA и установите PyTorch с поддержкой CUDA 12.1.
- Если CUDA не обнаружена, программа завершит работу с ошибкой.
- Для корректной работы микрофон должен быть доступен в системе и выбран по умолчанию.

## Устранение проблем

- **PyTorch не видит CUDA:** Убедитесь, что используете Python 3.10/3.11 и установили PyTorch с поддержкой CUDA (см. выше).
- **Микрофон не найден:** Проверьте настройки звука Windows и разрешения для приложений.
- **Ошибка при запуске:** Проверьте, что все зависимости установлены, и используйте рекомендуемую версию Python.

---

**Программа предназначена для быстрой и удобной онлайн-транскрибации речи с микрофона с сохранением результата в файл в реальном времени.** 